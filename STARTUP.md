# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã Care Monitoring System –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](INSTALLATION.md):
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Node.js, Docker, Git
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –≤—Å–µ `.env` —Ñ–∞–π–ª—ã –∏–∑ `env.example`

## –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ Docker Desktop

**–í–∞–∂–Ω–æ:** Docker Desktop –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### Windows
1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é **–ü—É—Å–∫**
2. –ù–∞–π–¥–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ **Docker Desktop**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–∏–∫–æ–Ω–∫–∞ Docker –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –º–∏–≥–∞—Ç—å)

### Linux/macOS
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç
docker ps
```

**–ï—Å–ª–∏ Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω, –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:**
```
error during connect: Get "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/...": 
open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.
```

## –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∫–ª—é—á–∞–µ—Ç: PostgreSQL, Redis, RabbitMQ.

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
npm run dev:infra
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
cd infrastructure
docker compose up -d
cd ..
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
docker ps
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
- `postgres` (–ø–æ—Ä—Ç 5432)
- `redis` (–ø–æ—Ä—Ç 6379)
- `rabbitmq` (–ø–æ—Ä—Ç—ã 5672, 15672)

**–î–æ—Å—Ç—É–ø –∫ RabbitMQ Management UI:**
- URL: http://localhost:15672
- –õ–æ–≥–∏–Ω: `cms`
- –ü–∞—Ä–æ–ª—å: `cms`

## –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
npm run db:migrate
```

–≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:
- auth (5 –º–∏–≥—Ä–∞—Ü–∏–π)
- user (5 –º–∏–≥—Ä–∞—Ü–∏–π)
- device (1 –º–∏–≥—Ä–∞—Ü–∏—è)
- telemetry (1 –º–∏–≥—Ä–∞—Ü–∏—è)
- alert (1 –º–∏–≥—Ä–∞—Ü–∏—è)
- location (3 –º–∏–≥—Ä–∞—Ü–∏–∏)
- billing (3 –º–∏–≥—Ä–∞—Ü–∏–∏)
- integration (1 –º–∏–≥—Ä–∞—Ü–∏—è)
- dispatcher (3 –º–∏–≥—Ä–∞—Ü–∏–∏)
- analytics (2 –º–∏–≥—Ä–∞—Ü–∏–∏)
- ai-prediction (1 –º–∏–≥—Ä–∞—Ü–∏—è)

## –®–∞–≥ 4: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
npm run db:seed
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

| –†–æ–ª—å | Email | –ü–∞—Ä–æ–ª—å |
|------|-------|--------|
| admin | `admin@care-monitoring.ru` | `14081979` |
| guardian | `guardian@care-monitoring.ru` | `guardian123` |
| ward | `ward@care-monitoring.ru` | `ward123` |
| dispatcher | `dispatcher@care-monitoring.ru` | `dispatcher123` |
| organization_admin | `org-admin@care-monitoring.ru` | `orgadmin123` |

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [DEFAULT_CREDENTIALS.md](DEFAULT_CREDENTIALS.md)

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
npm run dev:all
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- API Gateway (–ø–æ—Ä—Ç 3000)
- –í—Å–µ 12 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (–ø–æ—Ä—Ç—ã 3001-3012)
- –í—Å–µ 4 —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Ä—Ç—ã 5173-5176)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ `concurrently`. –í—Å–µ –ª–æ–≥–∏ –±—É–¥—É—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –ø–æ –≥—Ä—É–ø–ø–∞–º (–≤ —Ä–∞–∑–Ω—ã—Ö –æ–∫–Ω–∞—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏ –ø–æ –æ–∫–Ω–∞–º:

**–û–∫–Ω–æ 1: API Gateway**
```bash
npm run dev:gateway
```

**–û–∫–Ω–æ 2: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**
```bash
npm run dev:services
```

**–û–∫–Ω–æ 3: Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
npm run dev:frontend
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**API Gateway:**
```bash
cd api-gateway
npm run start:dev
```

**–û—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å:**
```bash
cd microservices/auth-service
npm run start:dev
```

**–û—Ç–¥–µ–ª—å–Ω–æ–µ frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```bash
cd frontend/apps/guardian-app
npm run dev
```

## –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API Gateway

```bash
# Health check
curl http://localhost:3000/health

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:3000/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "status": "ok",
  "timestamp": "2025-01-20T10:00:00.000Z",
  "uptime": 123.456
}
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# Auth Service
curl http://localhost:3001/health

# User Service
curl http://localhost:3002/health

# Device Service
curl http://localhost:3003/health

# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- **Guardian App**: http://localhost:5173
- **Dispatcher App**: http://localhost:5174
- **Admin App**: http://localhost:5185
- **Landing App**: http://localhost:5175

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Vite –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏.

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**Windows (PowerShell):**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
.\scripts\check-services.ps1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
.\scripts\check-services.ps1 -Type infra

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥ —Å–µ—Ä–≤–∏—Å–æ–≤
.\scripts\check-services.ps1 -Type backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
.\scripts\check-services.ps1 -Type frontend
```

## –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤

### Backend —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | Health Endpoint |
|--------|------|----------------|
| API Gateway | 3000 | http://localhost:3000/health |
| Auth Service | 3001 | http://localhost:3001/health |
| User Service | 3002 | http://localhost:3002/health |
| Device Service | 3003 | http://localhost:3003/health |
| Telemetry Service | 3004 | http://localhost:3004/health |
| Alert Service | 3005 | http://localhost:3005/health |
| Location Service | 3006 | http://localhost:3006/health |
| Billing Service | 3007 | http://localhost:3007/health |
| Integration Service | 3008 | http://localhost:3008/health |
| Dispatcher Service | 3009 | http://localhost:3009/health |
| Analytics Service | 3010 | http://localhost:3010/health |
| AI Prediction Service | 3011 | http://localhost:3011/health |
| Organization Service | 3012 | http://localhost:3012/health |

### Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | –ü–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
|------------|---------------------|
| Guardian App | 5173 |
| Dispatcher App | 5174 |
| Admin App | 5185 |
| Landing App | 5175 |

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|--------|------|------------|
| PostgreSQL | 5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| Redis | 6379 | –ö—ç—à |
| RabbitMQ | 5672 | Message broker |
| RabbitMQ Management | 15672 | Web UI (cms/cms) |

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
npm run dev:infra:down
```

–ò–ª–∏:
```bash
cd infrastructure
docker compose down
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã.

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –µ–≥–æ:
```bash
# Windows (PowerShell)
Get-Process -Name node | Where-Object {$_.Path -like "*care-monitoring*"}

# Linux/macOS
ps aux | grep node
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å (`Ctrl+C`)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
   ```bash
   npm run dev:all
   # –∏–ª–∏
   npm run dev:gateway
   # –∏–ª–∏
   cd microservices/auth-service && npm run start:dev
   ```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–û—à–∏–±–∫–∞:**
```
error during connect: Get "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/...": 
open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker ps`

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç

**–û—à–∏–±–∫–∞:**
```
Error: listen EADDRINUSE: address already in use :::3000
```

**–†–µ—à–µ–Ω–∏–µ:**

**Windows (PowerShell):**
```powershell
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø–æ—Ä—Ç
netstat -ano | findstr :3000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã–π)
taskkill /PID <PID> /F
```

**Linux/macOS:**
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :3000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 <PID>
```

–ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º `.env` —Ñ–∞–π–ª–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–û—à–∏–±–∫–∞:**
```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker ps | grep postgres`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–∞—Ö:
   - `DB_HOST=localhost` (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - `DB_PORT=5432`
   - `DB_USER=cms_user`
   - `DB_PASSWORD=cms_password`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:
   ```bash
   npm run dev:infra:down
   npm run dev:infra
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ

**–û—à–∏–±–∫–∞:**
```
Error: connect ECONNREFUSED 127.0.0.1:5672
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker ps | grep rabbitmq`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs <rabbitmq-container-name>`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `docker restart <rabbitmq-container-name>`

### –ü—Ä–æ–±–ª–µ–º–∞: JWT_SECRET –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–û—à–∏–±–∫–∞:**
```
Error: Required environment variable JWT_SECRET is not set
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `JWT_SECRET` –≤ `.env` —Ñ–∞–π–ª–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `JWT_SECRET` –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

**–û—à–∏–±–∫–∞:**
```
relation "users" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   npm run db:migrate
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (—Å–º. –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API

**–û—à–∏–±–∫–∞:**
```
Failed to fetch: net::ERR_CONNECTION_REFUSED
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API Gateway –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:3000/health`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ frontend `.env`:
   ```env
   VITE_API_URL=http://localhost:3000/api/v1
   ```
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ `api-gateway/.env`:
   ```env
   CORS_ORIGIN=http://localhost:5173,http://localhost:5174,http://localhost:5185
   ```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose -f infrastructure/docker-compose.yml logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker logs -f <container-name>

# PostgreSQL
docker logs -f care-monitoring-postgres

# Redis
docker logs -f care-monitoring-redis

# RabbitMQ
docker logs -f care-monitoring-rabbitmq
```

### –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
npm run dev:infra:down
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (Ctrl+C)

# –û—á–∏—Å—Ç–∏—Ç—å Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
docker system prune -a

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npm run dev:infra
npm run db:migrate
npm run dev:all
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker stats

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
# Windows
netstat -ano | findstr LISTENING

# Linux/macOS
lsof -i -P -n | grep LISTEN
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö endpoints —á–µ—Ä–µ–∑ API Gateway
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
4. ‚úÖ –ò–∑—É—á–∏—Ç–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `docs/reference/api.md`

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–º–æ—Ç—Ä–∏—Ç–µ:
üìñ [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ](PRODUCTION_DEPLOYMENT.md)

