# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞

## ‚úÖ –°—Ç–∞—Ç—É—Å: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–∞—Ç–∞:** 2024-12-08

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Geocoder API –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –∞–¥—Ä–µ—Å–∞ –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **GeocodingService** (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
   - `reverseGeocode(lat, lon)` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –∞–¥—Ä–µ—Å
   - `geocode(address)` - –∞–¥—Ä–µ—Å ‚Üí –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

2. **YandexGeocoderService** (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
   - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Yandex Geocoder API
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Graceful degradation (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–∞)

3. **LocationService** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
   - –ú–µ—Ç–æ–¥—ã –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –≤ `getLatestLocation()`

4. **LocationController** (API endpoints)
   - `GET /locations/geocode/reverse` - –æ–±—Ä–∞—Ç–Ω—ã–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥
   - `GET /locations/geocode` - –ø—Ä—è–º–æ–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥

---

## üìÅ –§–∞–π–ª—ã

```
microservices/location-service/src/
  infrastructure/
    services/
      geocoding/
        geocoding.service.ts          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        yandex-geocoder.service.ts    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Yandex
  application/
    services/
      location.service.ts             # –ú–µ—Ç–æ–¥—ã –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞
  infrastructure/
    controllers/
      location.controller.ts          # Endpoints
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–§–∞–π–ª:** `microservices/location-service/.env`

```env
# Geocoding
YANDEX_GEOCODER_API_KEY=your-yandex-geocoder-api-key
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Yandex Cloud: https://cloud.yandex.ru/
2. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
3. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á –¥–ª—è Geocoder API: https://developer.tech.yandex.ru/services/
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ: 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### API Endpoints

#### 1. –û–±—Ä–∞—Ç–Ω—ã–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –∞–¥—Ä–µ—Å)

```http
GET /locations/geocode/reverse?lat=59.9343&lon=30.3351
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "latitude": 59.9343,
    "longitude": 30.3351,
    "address": "–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, –¥. 10"
  }
}
```

#### 2. –ü—Ä—è–º–æ–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥ (–∞–¥—Ä–µ—Å ‚Üí –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)

```http
GET /locations/geocode?address=–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, 10
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "address": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, 10",
    "latitude": 59.9343,
    "longitude": 30.3351
  }
}
```

#### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ —Å –∞–¥—Ä–µ—Å–æ–º

```http
GET /locations/wards/:wardId/latest
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": "location-id",
    "wardId": "ward-id",
    "latitude": 59.9343,
    "longitude": 30.3351,
    "accuracy": 10.5,
    "source": "mobile",
    "timestamp": "2024-12-08T12:00:00Z",
    "address": "–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, –¥. 10"
  }
}
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Frontend (TypeScript)

```typescript
import { locationApi } from '@/api/location.api';

// –ü–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
const response = await locationApi.reverseGeocode(59.9343, 30.3351);
console.log(response.address); // "–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, –¥. 10"

// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ –∞–¥—Ä–µ—Å—É
const coords = await locationApi.geocode('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, 10');
console.log(coords); // { latitude: 59.9343, longitude: 30.3351 }

// –ü–æ—Å–ª–µ–¥–Ω—è—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç –∞–¥—Ä–µ—Å)
const location = await locationApi.getLatestLocation('ward-id');
console.log(location?.address); // –ê–¥—Ä–µ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω
```

### Backend (NestJS)

```typescript
// –í LocationService —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ
const location = await this.locationService.getLatestLocation(wardId);
// location.data.address –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω

// –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞
const address = await this.locationService.reverseGeocode(59.9343, 30.3351);
const coordinates = await this.locationService.geocode('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ö–∞–ª–∏–Ω–∏–Ω–∞, 10');
```

---

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –∫–ª—é—á–∞

–ï—Å–ª–∏ `YANDEX_GEOCODER_API_KEY` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
- –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ú–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `null` –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏
- –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–Ω–µ –æ—à–∏–±–∫–∞)
- –û—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### –û—à–∏–±–∫–∏ API

- **–¢–∞–π–º–∞—É—Ç:** 10 —Å–µ–∫—É–Ω–¥
- **–û—à–∏–±–∫–∞ —Å–µ—Ç–∏:** –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null`
- **–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:** –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null`
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `null` (–Ω–µ –æ—à–∏–±–∫–∞)

---

## üìä –õ–∏–º–∏—Ç—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Yandex Geocoder API

- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ:** 25,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- **–ü–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ:** –î–æ 1,000,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- **Rate limiting:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ):
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –°—Ä–æ–∫ –∂–∏–∑–Ω–∏: 30 –¥–Ω–µ–π (–∞–¥—Ä–µ—Å–∞ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è —á–∞—Å—Ç–æ)
   - –ö–ª—é—á: `geocode:${lat}:${lon}` –∏–ª–∏ `geocode:${address}`

2. **Batch –≥–µ–æ–∫–æ–¥–∏–Ω–≥** (–±—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ):
   - –î–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –¥–µ–ª–∞—Ç—å batch –∑–∞–ø—Ä–æ—Å—ã
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞

–ú–µ—Ç–æ–¥ `getLatestLocation()` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∞–¥—Ä–µ—Å –∫ –¥–∞–Ω–Ω—ã–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏. Frontend –ø–æ–ª—É—á–∞–µ—Ç –∞–¥—Ä–µ—Å –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –ü–æ–ª–µ `address` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `Location`
- Frontend –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ –∞–¥—Ä–µ—Å–∞ (fallback –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã API –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üìù Frontend –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –¢–∏–ø—ã

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Location` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª—è `address`:

```typescript
export interface Location {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  address?: string | null; // –ê–¥—Ä–µ—Å, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ –≥–µ–æ–∫–æ–¥–∏–Ω–≥
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```vue
<template>
  <div v-if="location">
    <p>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: {{ location.latitude }}, {{ location.longitude }}</p>
    <p v-if="location.address">
      –ê–¥—Ä–µ—Å: {{ location.address }}
    </p>
    <p v-else>
      –ê–¥—Ä–µ—Å: –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
    </p>
  </div>
</template>
```

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å API –∫–ª—é—á:**
   ```bash
   cd microservices/location-service
   cp env.example .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env –∏ –¥–æ–±–∞–≤–∏—Ç—å YANDEX_GEOCODER_API_KEY
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å:**
   ```bash
   npm run start:dev
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å endpoints —á–µ—Ä–µ–∑ Swagger:**
   - –û—Ç–∫—Ä—ã—Ç—å http://localhost:3006/locations/docs
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `/locations/geocode/reverse` –∏ `/locations/geocode`

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
   - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–Ω–µ –æ—à–∏–±–∫–∞)
   - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ - debug –ª–æ–≥ —Å –∞–¥—Ä–µ—Å–æ–º

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã

1. **–ê–¥—Ä–µ—Å –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–∞ –≤ `.env`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å/–ª–∏–º–∏—Ç—ã Yandex Cloud

2. **–û—à–∏–±–∫–∏ —Å–µ—Ç–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `https://geocode-maps.yandex.ru`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω 10 —Å–µ–∫—É–Ω–¥)

3. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞:**
   - Yandex Geocoder –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∞–¥—Ä–µ—Å –≤ –¥—Ä—É–≥–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ API –≤ –ª–æ–≥–∞—Ö

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. **Batch –≥–µ–æ–∫–æ–¥–∏–Ω–≥** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Google Geocoding** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
4. **Rate limiting** - –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API
5. **Retry –º–µ—Ö–∞–Ω–∏–∑–º** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### Yandex Geocoder API

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://yandex.ru/dev/geocoder/doc/ru/
- **–û–±—Ä–∞—Ç–Ω—ã–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥:** https://yandex.ru/dev/geocoder/doc/ru/concepts/input-output
- **–ü—Ä—è–º–æ–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥:** https://yandex.ru/dev/geocoder/doc/ru/concepts/input-output

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [x] –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `GeocodingService`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `YandexGeocoderService`
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ `LocationService`
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã endpoints –≤ `LocationController`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `AppModule` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
- [x] –î–æ–±–∞–≤–ª–µ–Ω `axios` –≤ `package.json`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `env.example` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `YANDEX_GEOCODER_API_KEY`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getLatestLocation()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞ frontend –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª—è `address`
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéØ –ò—Ç–æ–≥

–ì–µ–æ–∫–æ–¥–∏–Ω–≥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –î–ª—è —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `YANDEX_GEOCODER_API_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

