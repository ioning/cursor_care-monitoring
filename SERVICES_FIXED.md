# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã - –°–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É

**–î–∞—Ç–∞:** 19 –¥–µ–∫–∞–±—Ä—è 2025

---

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ .env —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ PostgreSQL.

**–ë—ã–ª–æ:**
```
DB_USER=postgres
DB_PASSWORD=postgres
```

**–°—Ç–∞–ª–æ:**
```
DB_USER=cms_user
DB_PASSWORD=cms_password
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 12 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö:**
- auth-service
- user-service
- device-service
- telemetry-service
- alert-service
- location-service
- billing-service
- integration-service
- dispatcher-service
- analytics-service
- ai-prediction-service
- organization-service

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω RABBITMQ_URL
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–∏—Å—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ RabbitMQ, –Ω–µ –∏–º–µ–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `RABBITMQ_URL` –≤ .env —Ñ–∞–π–ª–∞—Ö.

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```
RABBITMQ_URL=amqp://cms:cms@localhost:5672
```

**–í —Å–ª–µ–¥—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö:**
- telemetry-service
- alert-service
- dispatcher-service
- integration-service
- ai-prediction-service

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã env.example —Ñ–∞–π–ª—ã
–í—Å–µ —à–∞–±–ª–æ–Ω—ã env.example –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç |
|-----------|--------|------|
| PostgreSQL | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 5432 |
| Redis | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 6379 |
| RabbitMQ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 5672, 15672 |

**–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** –í—Å–µ 12 –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã:
- auth_db, user_db, device_db, telemetry_db
- alert_db, location_db, billing_db, integration_db
- dispatcher_db, analytics_db, ai_prediction_db, organization_db

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

### –í–∞–∂–Ω–æ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã!

–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:

```powershell
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω—ã)
Get-Process -Name node -ErrorAction SilentlyContinue | 
    Where-Object { $_.CommandLine -like "*cursor_care-monitoring*" } | 
    Stop-Process -Force

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–Ω–æ–≤–æ
cd C:\projects\cursor_care-monitoring
npm run dev:all
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è)

1. –ó–∞–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev:all`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–Ω—Å–æ–ª—å
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `cd C:\projects\cursor_care-monitoring && npm run dev:all`

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### 1. Health endpoints
```powershell
# API Gateway
Invoke-WebRequest -Uri "http://localhost:3000/api/v1/health"

# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
Invoke-WebRequest -Uri "http://localhost:3001/health"
Invoke-WebRequest -Uri "http://localhost:3002/health"
Invoke-WebRequest -Uri "http://localhost:3003/health"
# –∏ —Ç.–¥.
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
```powershell
Get-NetTCPConnection -State Listen | 
    Where-Object { $_.LocalPort -ge 3000 -and $_.LocalPort -le 3012 } | 
    Select-Object LocalPort | Sort-Object LocalPort
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
–°–º–æ—Ç—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `npm run dev:all`. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
- `‚úÖ Service is running on: http://localhost:XXXX`
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–∏—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:**
   ```powershell
   docker exec care-monitoring-postgres psql -U cms_user -d auth_db -c "SELECT 1;"
   ```
   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `1`.

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª—ã:**
   ```powershell
   cd microservices\auth-service
   Get-Content .env | Select-String "DB_"
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `DB_USER=cms_user`, `DB_PASSWORD=cms_password`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ "password authentication failed"
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ TypeScript

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

**–°–∏–º–ø—Ç–æ–º—ã:**
- `password authentication failed for user "postgres"`
- `database "xxx_db" does not exist`

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã (—Å–º. –≤—ã—à–µ)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ

**–°–∏–º–ø—Ç–æ–º—ã:**
- `Error: connect ECONNREFUSED`
- `Access refused`

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ RabbitMQ –∑–∞–ø—É—â–µ–Ω: `docker ps | findstr rabbitmq`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RABBITMQ_URL –≤ .env —Ñ–∞–π–ª–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: http://localhost:15672

---

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã:

1. ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
2. ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ RabbitMQ (–≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ —Å–≤–æ–∏—Ö –ø–æ—Ä—Ç–∞—Ö (3000-3012)
4. ‚úÖ –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ health checks

**–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:** 1-2 –º–∏–Ω—É—Ç—ã –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–∫–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript)

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
2. ‚è≥ –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
3. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoints
4. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API —á–µ—Ä–µ–∑ Swagger: http://localhost:3000/api/docs

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** `FIXES_APPLIED.md`
- **–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:** `SERVICES_STATUS.md`
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** `DEPLOYMENT_COMPLETE.md`

---

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –°–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É! üöÄ**

